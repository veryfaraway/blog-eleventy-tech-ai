<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title or "주경야근" }} - 주경야근</title>
    <meta name="description" content="{{ description or "프로그래밍, 데이터분석, IT 트렌드에 대한 기술 블로그" }}">
    
    <!-- SEO -->
    <meta name="keywords" content="{{ keywords or "프로그래밍, 개발, 데이터분석, IT, 기술블로그" }}">
    <meta name="author" content="주경야근">
    <link rel="canonical" href="{{ page.url }}">
    
    <!-- Open Graph -->
    <meta property="og:title" content="{{ title or site.title }}">
    <meta property="og:description" content="{{ description or site.description }}">
    <meta property="og:type" content="{{ ogType or "website" }}">
    <meta property="og:url" content="{{ site.url }}{{ page.url }}">
    <meta property="og:image" content="{{ site.url }}{{ thumbnail or site.ogImage }}">
    <meta property="og:site_name" content="{{ site.title }}">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{{ title or site.title }}">
    <meta name="twitter:description" content="{{ description or site.description }}">
    <meta name="twitter:image" content="{{ site.url }}{{ thumbnail or site.ogImage }}">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="{{ site.favicon }}">
    <link rel="apple-touch-icon" href="{{ site.ogImage }}">
    
    <!-- Styles -->
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/image-lightbox.css">
    
    <!-- Code Copy Script -->
    <script src="/js/code-copy.js" defer></script>
    
    <!-- External Links Script -->
    <script src="/js/external-links.js" defer></script>
    
    <!-- Image Lightbox Script -->
    <script src="/js/image-lightbox.js" defer></script>
    
    <!-- Google Analytics -->
    {% set gaId = env.googleAnalytics or site.googleAnalytics %}
    {% if gaId %}
    <script async src="https://www.googletagmanager.com/gtag/js?id={{ gaId }}"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', '{{ gaId }}');
    </script>
    {% endif %}
    
    <!-- Google AdSense (자동 광고) -->
    {% set adsenseEnabled = env.adsense.enabled or site.adsense.enabled %}
    {% set adsenseClient = env.adsense.client or site.adsense.client %}
    {% if adsenseEnabled and adsenseClient %}
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client={{ adsenseClient }}"
            crossorigin="anonymous"></script>
    {% endif %}
</head>
<body class="bg-gray-50 text-dark-900">
    <div class="flex flex-col min-h-screen">
        {% include "header.njk" %}
        
        <main class="flex-1 w-full">
            {{ content | safe }}
        </main>
        
        {% include "footer.njk" %}
    </div>
    
    <script>
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        
        if (mobileMenuBtn) {
            mobileMenuBtn.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
        }
    </script>
</body>
</html>
